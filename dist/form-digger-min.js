/*! @dotburo/form-digger 1.0.0 | dotburo <code@dotburo.org> (https://dotburo.org) !*/
var FormDigger=function(){"use strict";var t="object"==typeof global&&global&&global.Object===Object&&global,e="object"==typeof self&&self&&self.Object===Object&&self,r=t||e||Function("return this")(),n=r.Symbol,o=Object.prototype,i=o.hasOwnProperty,u=o.toString,a=n?n.toStringTag:void 0;var c=Object.prototype.toString;var f=n?n.toStringTag:void 0;function s(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f&&f in Object(t)?function(t){var e=i.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var o=u.call(t);return n&&(e?t[a]=r:delete t[a]),o}(t):function(t){return c.call(t)}(t)}function l(t){return null!=t&&"object"==typeof t}function p(t){return"symbol"==typeof t||l(t)&&"[object Symbol]"==s(t)}function v(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}var h=Array.isArray,y=n?n.prototype:void 0,d=y?y.toString:void 0;function b(t){if("string"==typeof t)return t;if(h(t))return v(t,b)+"";if(p(t))return d?d.call(t):"";var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}var _=/\s/;var g=/^\s+/;function j(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&_.test(t.charAt(e)););return e}(t)+1).replace(g,""):t}function m(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var w=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,A=/^0o[0-7]+$/i,E=parseInt;function S(t){if("number"==typeof t)return t;if(p(t))return NaN;if(m(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=m(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=j(t);var r=O.test(t);return r||A.test(t)?E(t.slice(2),r?2:8):w.test(t)?NaN:+t}function x(t){return t}function z(t){if(!m(t))return!1;var e=s(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}var P,T=r["__core-js_shared__"],L=(P=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"";var $=Function.prototype.toString;function I(t){if(null!=t){try{return $.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var k=/^\[object .+?Constructor\]$/,D=Function.prototype,M=Object.prototype,N=D.toString,U=M.hasOwnProperty,F=RegExp("^"+N.call(U).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function H(t){return!(!m(t)||(e=t,L&&L in e))&&(z(t)?F:k).test(I(t));var e}function B(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return H(r)?r:void 0}var C=B(r,"WeakMap"),q=Object.create,R=function(){function t(){}return function(e){if(!m(e))return{};if(q)return q(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function W(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var V=Date.now;var Q,G,K,J=function(){try{var t=B(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),X=J,Y=X?function(t,e){return X(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:x,Z=(Q=Y,G=0,K=0,function(){var t=V(),e=16-(t-K);if(K=t,e>0){if(++G>=800)return arguments[0]}else G=0;return Q.apply(void 0,arguments)}),tt=Z,et=/^(?:0|[1-9]\d*)$/;function rt(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&et.test(t))&&t>-1&&t%1==0&&t<e}function nt(t,e,r){"__proto__"==e&&X?X(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function ot(t,e){return t===e||t!=t&&e!=e}var it=Object.prototype.hasOwnProperty;function ut(t,e,r){var n=t[e];it.call(t,e)&&ot(n,r)&&(void 0!==r||e in t)||nt(t,e,r)}var at=Math.max;function ct(t,e){return tt(function(t,e,r){return e=at(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=at(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=r(u),W(t,this,a)}}(t,e,x),t+"")}function ft(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function st(t){return null!=t&&ft(t.length)&&!z(t)}var lt=Object.prototype;function pt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||lt)}function vt(t){return l(t)&&"[object Arguments]"==s(t)}var ht=Object.prototype,yt=ht.hasOwnProperty,dt=ht.propertyIsEnumerable,bt=vt(function(){return arguments}())?vt:function(t){return l(t)&&yt.call(t,"callee")&&!dt.call(t,"callee")},_t=bt;var gt="object"==typeof exports&&exports&&!exports.nodeType&&exports,jt=gt&&"object"==typeof module&&module&&!module.nodeType&&module,mt=jt&&jt.exports===gt?r.Buffer:void 0,wt=(mt?mt.isBuffer:void 0)||function(){return!1},Ot={};Ot["[object Float32Array]"]=Ot["[object Float64Array]"]=Ot["[object Int8Array]"]=Ot["[object Int16Array]"]=Ot["[object Int32Array]"]=Ot["[object Uint8Array]"]=Ot["[object Uint8ClampedArray]"]=Ot["[object Uint16Array]"]=Ot["[object Uint32Array]"]=!0,Ot["[object Arguments]"]=Ot["[object Array]"]=Ot["[object ArrayBuffer]"]=Ot["[object Boolean]"]=Ot["[object DataView]"]=Ot["[object Date]"]=Ot["[object Error]"]=Ot["[object Function]"]=Ot["[object Map]"]=Ot["[object Number]"]=Ot["[object Object]"]=Ot["[object RegExp]"]=Ot["[object Set]"]=Ot["[object String]"]=Ot["[object WeakMap]"]=!1;var At="object"==typeof exports&&exports&&!exports.nodeType&&exports,Et=At&&"object"==typeof module&&module&&!module.nodeType&&module,St=Et&&Et.exports===At&&t.process,xt=function(){try{var t=Et&&Et.require&&Et.require("util").types;return t||St&&St.binding&&St.binding("util")}catch(t){}}(),zt=xt&&xt.isTypedArray,Pt=zt?function(t){return function(e){return t(e)}}(zt):function(t){return l(t)&&ft(t.length)&&!!Ot[s(t)]},Tt=Pt,Lt=Object.prototype.hasOwnProperty;function $t(t,e){var r=h(t),n=!r&&_t(t),o=!r&&!n&&wt(t),i=!r&&!n&&!o&&Tt(t),u=r||n||o||i,a=u?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],c=a.length;for(var f in t)!e&&!Lt.call(t,f)||u&&("length"==f||o&&("offset"==f||"parent"==f)||i&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||rt(f,c))||a.push(f);return a}function It(t,e){return function(r){return t(e(r))}}var kt=It(Object.keys,Object),Dt=Object.prototype.hasOwnProperty;function Mt(t){return st(t)?$t(t):function(t){if(!pt(t))return kt(t);var e=[];for(var r in Object(t))Dt.call(t,r)&&"constructor"!=r&&e.push(r);return e}(t)}var Nt=Object.prototype.hasOwnProperty;function Ut(t){if(!m(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=pt(t),r=[];for(var n in t)("constructor"!=n||!e&&Nt.call(t,n))&&r.push(n);return r}function Ft(t){return st(t)?$t(t,!0):Ut(t)}var Ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bt=/^\w*$/;function Ct(t,e){if(h(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!p(t))||(Bt.test(t)||!Ht.test(t)||null!=e&&t in Object(e))}var qt=B(Object,"create");var Rt=Object.prototype.hasOwnProperty;var Wt=Object.prototype.hasOwnProperty;function Vt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Qt(t,e){for(var r=t.length;r--;)if(ot(t[r][0],e))return r;return-1}Vt.prototype.clear=function(){this.__data__=qt?qt(null):{},this.size=0},Vt.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Vt.prototype.get=function(t){var e=this.__data__;if(qt){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Rt.call(e,t)?e[t]:void 0},Vt.prototype.has=function(t){var e=this.__data__;return qt?void 0!==e[t]:Wt.call(e,t)},Vt.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=qt&&void 0===e?"__lodash_hash_undefined__":e,this};var Gt=Array.prototype.splice;function Kt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Kt.prototype.clear=function(){this.__data__=[],this.size=0},Kt.prototype.delete=function(t){var e=this.__data__,r=Qt(e,t);return!(r<0)&&(r==e.length-1?e.pop():Gt.call(e,r,1),--this.size,!0)},Kt.prototype.get=function(t){var e=this.__data__,r=Qt(e,t);return r<0?void 0:e[r][1]},Kt.prototype.has=function(t){return Qt(this.__data__,t)>-1},Kt.prototype.set=function(t,e){var r=this.__data__,n=Qt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};var Jt=B(r,"Map");function Xt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function Yt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Yt.prototype.clear=function(){this.size=0,this.__data__={hash:new Vt,map:new(Jt||Kt),string:new Vt}},Yt.prototype.delete=function(t){var e=Xt(this,t).delete(t);return this.size-=e?1:0,e},Yt.prototype.get=function(t){return Xt(this,t).get(t)},Yt.prototype.has=function(t){return Xt(this,t).has(t)},Yt.prototype.set=function(t,e){var r=Xt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function Zt(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var u=t.apply(this,n);return r.cache=i.set(o,u)||i,u};return r.cache=new(Zt.Cache||Yt),r}Zt.Cache=Yt;var te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ee=/\\(\\)?/g,re=function(t){var e=Zt(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(te,(function(t,r,n,o){e.push(n?o.replace(ee,"$1"):r||t)})),e})),ne=re;function oe(t,e){return h(t)?t:Ct(t,e)?[t]:ne(function(t){return null==t?"":b(t)}(t))}function ie(t){if("string"==typeof t||p(t))return t;var e=t+"";return"0"==e&&1/t==-Infinity?"-0":e}function ue(t,e){for(var r=0,n=(e=oe(e,t)).length;null!=t&&r<n;)t=t[ie(e[r++])];return r&&r==n?t:void 0}function ae(t,e,r){var n=null==t?void 0:ue(t,e);return void 0===n?r:n}function ce(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t}var fe=It(Object.getPrototypeOf,Object),se=Function.prototype,le=Object.prototype,pe=se.toString,ve=le.hasOwnProperty,he=pe.call(Object);function ye(t){var e=this.__data__=new Kt(t);this.size=e.size}ye.prototype.clear=function(){this.__data__=new Kt,this.size=0},ye.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},ye.prototype.get=function(t){return this.__data__.get(t)},ye.prototype.has=function(t){return this.__data__.has(t)},ye.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Kt){var n=r.__data__;if(!Jt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Yt(n)}return r.set(t,e),this.size=r.size,this};var de="object"==typeof exports&&exports&&!exports.nodeType&&exports,be=de&&"object"==typeof module&&module&&!module.nodeType&&module,_e=be&&be.exports===de?r.Buffer:void 0,ge=_e?_e.allocUnsafe:void 0;function je(){return[]}var me=Object.prototype.propertyIsEnumerable,we=Object.getOwnPropertySymbols,Oe=we?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var u=t[r];e(u,r,t)&&(i[o++]=u)}return i}(we(t),(function(e){return me.call(t,e)})))}:je,Ae=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)ce(e,Oe(t)),t=fe(t);return e}:je;function Ee(t,e,r){var n=e(t);return h(t)?n:ce(n,r(t))}function Se(t){return Ee(t,Mt,Oe)}var xe=B(r,"DataView"),ze=B(r,"Promise"),Pe=B(r,"Set"),Te="[object Map]",Le="[object Promise]",$e="[object Set]",Ie="[object WeakMap]",ke="[object DataView]",De=I(xe),Me=I(Jt),Ne=I(ze),Ue=I(Pe),Fe=I(C),He=s;(xe&&He(new xe(new ArrayBuffer(1)))!=ke||Jt&&He(new Jt)!=Te||ze&&He(ze.resolve())!=Le||Pe&&He(new Pe)!=$e||C&&He(new C)!=Ie)&&(He=function(t){var e=s(t),r="[object Object]"==e?t.constructor:void 0,n=r?I(r):"";if(n)switch(n){case De:return ke;case Me:return Te;case Ne:return Le;case Ue:return $e;case Fe:return Ie}return e});var Be=He,Ce=r.Uint8Array;function qe(t,e){var r,n,o=e?(r=t.buffer,n=new r.constructor(r.byteLength),new Ce(n).set(new Ce(r)),n):t.buffer;return new t.constructor(o,t.byteOffset,t.length)}function Re(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new Yt;++e<r;)this.add(t[e])}function We(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}Re.prototype.add=Re.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Re.prototype.has=function(t){return this.__data__.has(t)};function Ve(t,e,r,n,o,i){var u=1&r,a=t.length,c=e.length;if(a!=c&&!(u&&c>a))return!1;var f=i.get(t),s=i.get(e);if(f&&s)return f==e&&s==t;var l=-1,p=!0,v=2&r?new Re:void 0;for(i.set(t,e),i.set(e,t);++l<a;){var h=t[l],y=e[l];if(n)var d=u?n(y,h,l,e,t,i):n(h,y,l,t,e,i);if(void 0!==d){if(d)continue;p=!1;break}if(v){if(!We(e,(function(t,e){if(u=e,!v.has(u)&&(h===t||o(h,t,r,n,i)))return v.push(e);var u}))){p=!1;break}}else if(h!==y&&!o(h,y,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p}function Qe(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r}function Ge(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}var Ke=n?n.prototype:void 0,Je=Ke?Ke.valueOf:void 0;var Xe=Object.prototype.hasOwnProperty;var Ye="[object Arguments]",Ze="[object Array]",tr="[object Object]",er=Object.prototype.hasOwnProperty;function rr(t,e,r,n,o,i){var u=h(t),a=h(e),c=u?Ze:Be(t),f=a?Ze:Be(e),s=(c=c==Ye?tr:c)==tr,l=(f=f==Ye?tr:f)==tr,p=c==f;if(p&&wt(t)){if(!wt(e))return!1;u=!0,s=!1}if(p&&!s)return i||(i=new ye),u||Tt(t)?Ve(t,e,r,n,o,i):function(t,e,r,n,o,i,u){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new Ce(t),new Ce(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ot(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var a=Qe;case"[object Set]":var c=1&n;if(a||(a=Ge),t.size!=e.size&&!c)return!1;var f=u.get(t);if(f)return f==e;n|=2,u.set(t,e);var s=Ve(a(t),a(e),n,o,i,u);return u.delete(t),s;case"[object Symbol]":if(Je)return Je.call(t)==Je.call(e)}return!1}(t,e,c,r,n,o,i);if(!(1&r)){var v=s&&er.call(t,"__wrapped__"),y=l&&er.call(e,"__wrapped__");if(v||y){var d=v?t.value():t,b=y?e.value():e;return i||(i=new ye),o(d,b,r,n,i)}}return!!p&&(i||(i=new ye),function(t,e,r,n,o,i){var u=1&r,a=Se(t),c=a.length;if(c!=Se(e).length&&!u)return!1;for(var f=c;f--;){var s=a[f];if(!(u?s in e:Xe.call(e,s)))return!1}var l=i.get(t),p=i.get(e);if(l&&p)return l==e&&p==t;var v=!0;i.set(t,e),i.set(e,t);for(var h=u;++f<c;){var y=t[s=a[f]],d=e[s];if(n)var b=u?n(d,y,s,e,t,i):n(y,d,s,t,e,i);if(!(void 0===b?y===d||o(y,d,r,n,i):b)){v=!1;break}h||(h="constructor"==s)}if(v&&!h){var _=t.constructor,g=e.constructor;_==g||!("constructor"in t)||!("constructor"in e)||"function"==typeof _&&_ instanceof _&&"function"==typeof g&&g instanceof g||(v=!1)}return i.delete(t),i.delete(e),v}(t,e,r,n,o,i))}function nr(t,e,r,n,o){return t===e||(null==t||null==e||!l(t)&&!l(e)?t!=t&&e!=e:rr(t,e,r,n,nr,o))}function or(t){return t==t&&!m(t)}function ir(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}}function ur(t){var e=function(t){for(var e=Mt(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,or(o)]}return e}(t);return 1==e.length&&e[0][2]?ir(e[0][0],e[0][1]):function(r){return r===t||function(t,e,r,n){var o=r.length,i=o,u=!n;if(null==t)return!i;for(t=Object(t);o--;){var a=r[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=r[o])[0],f=t[c],s=a[1];if(u&&a[2]){if(void 0===f&&!(c in t))return!1}else{var l=new ye;if(n)var p=n(f,s,c,t,e,l);if(!(void 0===p?nr(s,f,3,n,l):p))return!1}}return!0}(r,t,e)}}function ar(t,e){return null!=t&&e in Object(t)}function cr(t,e,r){for(var n=-1,o=(e=oe(e,t)).length,i=!1;++n<o;){var u=ie(e[n]);if(!(i=null!=t&&r(t,u)))break;t=t[u]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&ft(o)&&rt(u,o)&&(h(t)||_t(t))}function fr(t,e){return Ct(t)&&or(e)?ir(ie(t),e):function(r){var n=ae(r,t);return void 0===n&&n===e?function(t,e){return null!=t&&cr(t,e,ar)}(r,t):nr(e,n,3)}}function sr(t){return Ct(t)?(e=ie(t),function(t){return null==t?void 0:t[e]}):function(t){return function(e){return ue(e,t)}}(t);var e}var lr,pr=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),u=i.length;u--;){var a=i[lr?u:++n];if(!1===e(o[a],a,o))break}return t},vr=function(){return r.Date.now()},hr=Math.max,yr=Math.min;function dr(t,e,r){var n,o,i,u,a,c,f=0,s=!1,l=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function v(e){var r=n,i=o;return n=o=void 0,f=e,u=t.apply(i,r)}function h(t){return f=t,a=setTimeout(d,e),s?v(t):u}function y(t){var r=t-c;return void 0===c||r>=e||r<0||l&&t-f>=i}function d(){var t=vr();if(y(t))return b(t);a=setTimeout(d,function(t){var r=e-(t-c);return l?yr(r,i-(t-f)):r}(t))}function b(t){return a=void 0,p&&n?v(t):(n=o=void 0,u)}function _(){var t=vr(),r=y(t);if(n=arguments,o=this,c=t,r){if(void 0===a)return h(c);if(l)return clearTimeout(a),a=setTimeout(d,e),v(c)}return void 0===a&&(a=setTimeout(d,e)),u}return e=S(e)||0,m(r)&&(s=!!r.leading,i=(l="maxWait"in r)?hr(S(r.maxWait)||0,e):i,p="trailing"in r?!!r.trailing:p),_.cancel=function(){void 0!==a&&clearTimeout(a),f=0,n=c=o=a=void 0},_.flush=function(){return void 0===a?u:b(vr())},_}function br(t,e,r){(void 0!==r&&!ot(t[e],r)||void 0===r&&!(e in t))&&nt(t,e,r)}function _r(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}function gr(t){return function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,u=e.length;++i<u;){var a=e[i],c=n?n(r[a],t[a],a,r,t):void 0;void 0===c&&(c=t[a]),o?nt(r,a,c):ut(r,a,c)}return r}(t,Ft(t))}function jr(t,e,r,n,o,i,u){var a=_r(t,r),c=_r(e,r),f=u.get(c);if(f)br(t,r,f);else{var p,v=i?i(a,c,r+"",t,e,u):void 0,y=void 0===v;if(y){var d=h(c),b=!d&&wt(c),_=!d&&!b&&Tt(c);v=c,d||b||_?h(a)?v=a:l(p=a)&&st(p)?v=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}(a):b?(y=!1,v=function(t,e){if(e)return t.slice();var r=t.length,n=ge?ge(r):new t.constructor(r);return t.copy(n),n}(c,!0)):_?(y=!1,v=qe(c,!0)):v=[]:function(t){if(!l(t)||"[object Object]"!=s(t))return!1;var e=fe(t);if(null===e)return!0;var r=ve.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&pe.call(r)==he}(c)||_t(c)?(v=a,_t(a)?v=gr(a):m(a)&&!z(a)||(v=function(t){return"function"!=typeof t.constructor||pt(t)?{}:R(fe(t))}(c))):y=!1}y&&(u.set(c,v),o(v,c,n,i,u),u.delete(c)),br(t,r,v)}}function mr(t,e,r,n,o){t!==e&&pr(e,(function(i,u){if(o||(o=new ye),m(i))jr(t,e,u,r,mr,n,o);else{var a=n?n(_r(t,u),i,u+"",t,e,o):void 0;void 0===a&&(a=i),br(t,u,a)}}),Ft)}var wr=Object.prototype.hasOwnProperty;function Or(t,e){return null!=t&&wr.call(t,e)}function Ar(t,e){return null!=t&&cr(t,e,Or)}var Er,Sr=(Er=function(t,e,r){mr(t,e,r)},ct((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=Er.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!m(r))return!1;var n=typeof e;return!!("number"==n?st(r)&&rt(e,r.length):"string"==n&&e in r)&&ot(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var u=e[r];u&&Er(t,u,r,o)}return t})));function xr(t,e,r,n){if(!m(t))return t;for(var o=-1,i=(e=oe(e,t)).length,u=i-1,a=t;null!=a&&++o<i;){var c=ie(e[o]),f=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=u){var s=a[c];void 0===(f=n?n(s,c,a):void 0)&&(f=m(s)?s:rt(e[o+1])?[]:{})}ut(a,c,f),a=a[c]}return t}function zr(t,e){if(null==t)return{};var r,n=v(function(t){return Ee(t,Ft,Ae)}(t),(function(t){return[t]}));return e="function"==typeof(r=e)?r:null==r?x:"object"==typeof r?h(r)?fr(r[0],r[1]):ur(r):sr(r),function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var u=e[n],a=ue(t,u);r(a,u)&&xr(i,oe(u,t),a)}return i}(t,n,(function(t,r){return e(t,r[0])}))}const Pr={baseUri:"",form:null,results:null,responseItemsKey:"data",paginator:null,eventName:"onDiggerPushState",renderEmptyList:()=>"<div>No items found for these criteria</div>",renderItemList:t=>`<ul>${t}</ul>`,renderItem:t=>`<li>${JSON.stringify(t)}</li>`};function Tr(t){const e=Sr({},Pr,t);this._lastQuery="",function(t,e){e.forEach((e=>{if(!Ar(t,e))throw new Error(`The ${e} property is missing`)}))}(e,["form","results","baseUri"]);let r=function(t){let e={};[...t.form.elements].map((t=>t.name)).filter((t=>t)).forEach((t=>{e[t]=null})),t.paginator&&(e.page=t.paginator.current());return e}(e);r=Lr.call(this,e,r),$r.call(this,e,r)}function Lr(t,e){const r=window.location.search.replace("?",""),n=function(t){return[...new URLSearchParams(t).entries()].reduce(((t,[e,r])=>(t[e]=r,t)),{})}(r);return Object.keys(n).forEach((t=>{Ar(e,t)&&(e[t]=n[t])})),this._handleHistory({query:r,parameters:n},t,!0),e}function $r(t,e){t.form.addEventListener("change",(r=>this._handleEvents(r,t,e)),!1),t.form.addEventListener("input",(r=>this._handleEvents(r,t,e)),!1),document.addEventListener(t.eventName,(e=>this._handleHistory(e.detail,t)),!1),window.addEventListener("popstate",(e=>this._handleHistory(e.state,t,!0)),!1),t.paginator&&t.paginator.onChange((r=>this._setHistory(Ir(e,"page",r),t)))}function Ir(t,e,r=null){return(t[e]||null===t[e])&&(t[e]=r||null),Ar(t,"page")&&"page"!==e&&(t.page=1),zr(t)}return Tr.prototype._handleEvents=function(t,e,r){const n=t.target,o=!n.dataset.minLength||n.value.length>=+n.dataset.minLength,i=n.dataset.debounce&&"0"!==n.dataset.debounce,u=()=>this._setHistory(Ir(r,t.target.name,t.target.value),e);o&&(i?dr(u,+n.dataset.debounce)():u())},Tr.prototype._handleHistory=function(t,e,r=!1){r&&function(t,e){[...e.form.elements].forEach((e=>{e.name&&Ar(t,e.name)&&(e.value=t[e.name])}))}(t.parameters,e),this._fetchData(t.query,e).then((r=>function(t,e,r){const n=ae(t,e.responseItemsKey);e.paginator&&e.paginator.render(t);if(!n.length)return void(e.results.innerHTML=e.renderEmptyList(r));let o="";n.forEach((t=>o+=e.renderItem(t))),e.results.innerHTML=e.renderItemList(o)}(r,e,t.parameters)))},Tr.prototype._setHistory=function(t,e){const r=new URLSearchParams(t).toString();if(r===this._lastQuery||!r)return;this._lastQuery=r;const n=window.location.pathname+"?"+r,o=new CustomEvent(e.eventName,{detail:{query:r,parameters:t}});document.dispatchEvent(o),window.history.pushState({query:r,parameters:t},document.title,n)},Tr.prototype._fetchData=function(t,e){return window.fetch(e.baseUri+"?"+t,{method:"GET",headers:{Accept:"application/json"}}).then((t=>t.json()))},Tr}();
//# sourceMappingURL=form-digger-min.js.map
